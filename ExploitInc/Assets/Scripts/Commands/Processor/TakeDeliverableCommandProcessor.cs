using System;
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

namespace SBaier.ExploitInc
{
	public class TakeDeliverableCommandProcessor : SingleCommandProcessor<TakeDeliverableCommand>
	{
		[SerializeField]
		private Drone _drone = null;

		public override void Process(TakeDeliverableCommand command)
		{
			if (_drone.Deliverable != null)
				throw new InvalidOperationException();
			command.DeliveryContainer.Take(command.Deliverable);
			_drone.AddDeliverable(command.Deliverable);
			command.State = CommandState.Finished;
		}


		public override void StopProcess(TakeDeliverableCommand command)
		{
			command.DeliveryContainer.Promise(command.Deliverable);
			command.DeliveryContainer.Store(command.Deliverable);
		}
	}
}