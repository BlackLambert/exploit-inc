using System;
using UnityEngine;

namespace SBaier.ExploitInc
{
	[CreateAssetMenu(fileName = "DroneConfig", menuName = "ScriptableObjects/DroneConfig")]
	public class DroneConfig : ScriptableObject
	{
		[SerializeField]
		private double _buyCosts = 100;
		public double BuyCosts => _buyCosts;
		[SerializeField]
		private float _buyCostIncreaseMultiplier = 1.5f;
		public float BuyCostIncreaseMultiplier => _buyCostIncreaseMultiplier;
		[SerializeField]
		private double _costsPerMinute = 30f;
		public double CostsPerMinute => _costsPerMinute;
		[SerializeField]
		private Drone _dronePrefab = null;
		public Drone DronePrefab => _dronePrefab;

		public double GetBuyCostsOf(int droneIndex)
		{
			if (droneIndex < 0)
				throw new ArgumentException();
			return Math.Floor( BuyCosts * Mathf.Pow(BuyCostIncreaseMultiplier, droneIndex));
		}
	}
}