using UnityEngine;

namespace SBaier.ExploitInc
{
	public class PlaySoundWhileEmiting : MonoBehaviour
	{
		[SerializeField]
		private AudioSource _source = null;
		[SerializeField]
		private ParticleSystem _particles = null;

		private bool _playing = false;

		protected virtual void Update()
		{
			if (_particles.emission.enabled == _playing)
				return;
			_playing = _particles.emission.enabled;
			if (_playing)
				_source.Play();
			else
				_source.Stop();
		}
	}
}