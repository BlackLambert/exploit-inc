

namespace SBaier.ExploitInc
{
	public class DeliveryRouteFactory 
	{
		private DeliveryRoute _routePrefab;
		private PrefabFactory _prefabFactory;

		public DeliveryRouteFactory(DeliveryRoute routePrefab,
			PrefabFactory prefabFactory)
		{
			_routePrefab = routePrefab;
			_prefabFactory = prefabFactory;
		}

		public DeliveryRoute Create(DeliveryContainer origin, DeliveryContainer destination)
		{
			DeliveryRouteParameter parameter = new DeliveryRouteParameter(origin, destination);
			DeliveryRoute route = _prefabFactory.Create(_routePrefab, new PrefabFactory.Parameter[] { new PrefabFactory.Parameter(parameter) });
			route.name = $"{origin.name} to {destination.name}";
			return route;
		}
	}
}