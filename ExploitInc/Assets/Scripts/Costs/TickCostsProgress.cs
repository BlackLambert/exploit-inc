using UnityEngine;
using UnityEngine.UI;
using Zenject;

namespace SBaier.ExploitInc
{
	public class TickCostsProgress : MonoBehaviour
	{
		private CostsPerTick _costsPerTick;

		[SerializeField]
		private Image _progressImage = null;

		[Inject]
		private void Constrcut(CostsPerTick costsPerTick)
		{
			_costsPerTick = costsPerTick;
		}




		protected virtual void Start()
		{
			updateView();
			_costsPerTick.OnCostsChange += updateView;
		}

		protected virtual void OnDestroy()
		{
			_costsPerTick.OnCostsChange -= updateView;
		}

		protected virtual void Update()
		{
			updateView();
		}


		private void updateView()
		{
			_progressImage.fillAmount = _costsPerTick.NormalizedProgress;
		}
	}
}