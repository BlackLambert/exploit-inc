using System;
using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using Zenject;

namespace SBaier.ExploitInc
{
	public class HideOnNoCosts : MonoBehaviour
	{
		[SerializeField]
		private CanvasGroup _group = null;

		private CostsPerTick _costsPerTick;


		[Inject]
		private void Construct(CostsPerTick costsPerTick)
		{
			_costsPerTick = costsPerTick;
		}

		protected virtual void Start()
		{
			_costsPerTick.OnCostsChange += onCostsChange;
			updateDisplay();
		}

		protected virtual void OnDestroy()
		{
			_costsPerTick.OnCostsChange -= onCostsChange;
		}

		private void onCostsChange()
		{
			updateDisplay();
		}

		private void updateDisplay()
		{
			_group.alpha = _costsPerTick.Costs > 0 ? 1 : 0;
		}
	}
}