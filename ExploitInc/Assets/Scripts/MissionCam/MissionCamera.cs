using System.Collections;
using System.Collections.Generic;
using UnityEngine;

namespace SBaier.ExploitInc
{
	public class MissionCamera : MonoBehaviour
	{
		[SerializeField]
		private GameObject _cameraObject = null;
		[SerializeField]
		private GameObject _cameraTarget = null;
		[SerializeField]
		private float _minZoomDistance = 3f;
		[SerializeField]
		private float _maxZoomDistance = 15f;

		[SerializeField]
		private float _startZoom = 15f;
		[SerializeField]
		private Vector3 _startDistanceVector = new Vector3(0, 1f, 0);


		private Vector3 _distanceVector;


		private float _zoom;
		public float Zoom
		{
			get { return _zoom; }
			set
			{
				_zoom = Mathf.Clamp(value, _minZoomDistance, _maxZoomDistance);
			}
		}


		protected virtual void Start()
		{
			Zoom = _startZoom;
			_distanceVector = _startDistanceVector.normalized;
		}

		protected virtual void Update()
		{
			_cameraObject.transform.localPosition = _distanceVector * Zoom;
			Vector3 lookVector = _cameraTarget.transform.position - _cameraObject.transform.position;
			_cameraObject.transform.rotation = Quaternion.LookRotation(lookVector, _cameraObject.transform.up);
		}
	}
}